# ￹設定￺せってい￻のかえかた

　「ひらがなIME」には、つぎのような￹設定￺せってい￻￹項目￺こうもく￻があります。

- [￹漢字￺かんじ￻￹辞書￺じしょ￻](#dictionary) ― ￹学年￺がくねん￻￹別￺べつ￻の￹漢字￺かんじ￻￹辞書￺じしょ￻をえらべます。
- [￹入力￺にゅうりょく￻￹方法￺ほうほう￻](#layout) ― ローマ￹字￺じ￻￹入力￺にゅうりょく￻とかな￹入力￺にゅうりょく￻のきりかえができます。
- [ローマ￹字￺じ￻の「ん」のつづりかた](#nn) ― 「nn」を「ん」にするかどうかをえらべます。

　￹設定￺せってい￻の￹変更￺へんこう￻は、「dconf Editor」をつかうのが、いまのところ、かんたんです。「dconf Editor」で、
```
/desktop/ibus/engine/replace-with-kanji
```
をひらくと、「ひらがなIME」の￹設定￺せってい￻￹画面￺がめん￻になります。

![dconf-editor](dconf-editor.png)

「dconf Editor」で￹設定￺せってい￻を￹変更￺へんこう￻すると、￹自動的￺じどうてき￻に￹設定￺せってい￻が￹反映￺はんえい￻されます。

## ￹漢字￺かんじ￻￹辞書￺じしょ￻をえらぶ {#dictionary}

　つぎの￹漢字￺かんじ￻￹辞書￺じしょ￻ファイルをあらかじめ￹用意￺ようい￻しています。

￹設定￺せってい￻ファイル名 | ￹解説￺かいせつ￻
------------ | -------------
restrained.dic | ￹最初￺さいしょ￻に￹設定￺せってい￻されている￹辞書￺じしょ￻。￹常用￺じょうよう￻￹漢字￺かんじ￻を￹基本￺きほん￻に￹構成￺こうせい￻した￹辞書￺じしょ￻です。
restrained.1.dic | ￹小学校￺しょうがっこう￻1￹年￺ねん￻￹生￺せい￻￹用￺よう￻。
restrained.2.dic | ￹小学校￺しょうがっこう￻2￹年￺ねん￻￹生￺せい￻￹用￺よう￻。
restrained.3.dic | ￹小学校￺しょうがっこう￻3￹年￺ねん￻￹生￺せい￻￹用￺よう￻。
restrained.4.dic | ￹小学校￺しょうがっこう￻4￹年￺ねん￻￹生￺せい￻￹用￺よう￻。
restrained.5.dic | ￹小学校￺しょうがっこう￻5￹年￺ねん￻￹生￺せい￻￹用￺よう￻。
restrained.6.dic | ￹小学校￺しょうがっこう￻6￹年￺ねん￻￹生￺せい￻￹用￺よう￻。
restrained.7.dic | ￹中学生￺ちゅうがくせい￻￹用￺よう￻。
restrained.9.dic | ￹許容￺きょよう￻されているおくりがなをつかうための￹辞書￺じしょ￻。

　￹小中学生￺しょうちゅうがくせい￻￹用￺よう￻の￹辞書￺じしょ￻では、￹使用￺しよう￻する￹漢字￺かんじ￻とそのよみを、￹平成￺へいせい￻29￹年￺ねん￻の『[￹音訓￺おんくん￻の￹小￺しょう￻・￹中￺ちゅう￻・￹高等学校￺こうとうがっこう￻￹段階￺だんかい￻￹別￺べつ￻￹割￺わ￻り￹振￺ふ￻り￹表￺ひょう￻](http://www.mext.go.jp/a_menu/shotou/new-cs/1385768.htm)』にそって￹限定￺げんてい￻してあります。

　￹標準￺ひょうじゅん￻の￹辞書￺じしょ￻(restrained.dic)では、おくる￹位置￺いち￻が『[￹送￺おく￻り￹仮名￺かな￻の￹付￺つ￻け￹方￺かた￻](http://www.bunka.go.jp/kokugo_nihongo/sisaku/joho/joho/kijun/naikaku/okurikana/index.html)』の￹原則￺げんそく￻にそっていないと￹活用￺かつよう￻を￹変換￺へんかん￻できません。
￹辞書￺じしょ￻にrestrained.9.dicを￹指定￺してい￻すると、￹許容￺きょよう￻されているおくりがなのおくりかたでも￹活用￺かつよう￻を￹変換￺へんかん￻できるようになります。

￹例￺れい￻)  restrained.9.dicをつかうと、「￹落￺おと￻す」のような￹変換￺へんかん￻もできます。

    お―とす〔変換〕 → 落とす
    おと―す〔変換〕 → 落す

<br>　￹使用￺しよう￻する￹辞書￺じしょ￻を￹変更￺へんこう￻するときは、「dictionary」を￹選択￺せんたく￻して、￹辞書￺じしょ￻のファイル￹名￺めい￻をフルパス￹名￺めい￻で￹指定￺してい￻してください。

￹例￺れい￻ (インストール￹先￺さき￻が /usr のばあい) :

    /usr/share/ibus-replace-with-kanji/restrained.dic

<br>
![settings-dictionary](settings-dictionary.png)

### ￹個人￺こじん￻￹用￺よう￻￹辞書￺じしょ￻

　システムの￹辞書￺じしょ￻ファイルにない￹単語￺たんご￻は、￹個人￺こじん￻￹用￺よう￻の￹辞書￺じしょ￻ファイルにいれておくことができます。￹個人￺こじん￻￹用￺よう￻の￹辞書￺じしょ￻は、ディレクトリ ~/.local/share/ibus-replace-with-kanji/ のなかの my.dic というなまえのファイルです。￹追加￺ついか￻した￹単語￺たんご￻は、￹次回￺じかい￻IBusデーモンを￹起動￺きどう￻したときから、つかえるようになります。

　￹辞書￺じしょ￻ファイルには、つぎのテキスト￹形式￺けいしき￻で￹単語￺たんご￻を￹保存￺ほぞん￻します。

```
; コメント
; よみ /単語/
きれい /綺麗/
; よみ /単語1/単語2/
こーひー /珈琲/咖啡/
; 用言のよみは、おくりがなの手前まで指定して水平バーでとめます。
; 漢字は、5段活用動詞は、最後にkgstnbmrwをつけます(kは、カ行をしめします)。
ささや― /囁k/
; 形容詞は、最後にiをつけます。
あお― /碧i/
```

## ￹入力￺にゅうりょく￻￹方法￺ほうほう￻をえらぶ {#layout}

　￹入力￺にゅうりょく￻￹方法￺ほうほう￻はキーボード￹配列￺はいれつ￻の￹設定￺せってい￻ファイルを￹変更￺へんこう￻して￹設定￺せってい￻します。

￹入力￺にゅうりょく￻￹方法￺ほうほう￻ | キーボード￹配列￺はいれつ￻ | ￹設定￺せってい￻ファイル￹名￺めい￻<br>（￹日本語￺にほんご￻キーボード￹用￺よう￻）| ￹設定￺せってい￻ファイル￹名￺めい￻<br>（￹英語￺えいご￻キーボード￹用￺よう￻）
---|---|---|---
かな￹入力￺にゅうりょく￻ | [JISかな￹配列￺はいれつ￻](layouts.html#jis) | jis.109.json | なし
ローマ￹字￺じ￻￹入力￺にゅうりょく￻ | [99￹式￺しき￻ローマ￹字￺じ￻￹用￺よう￻](layouts.html#roomazi) | roomazi.109.json | roomazi.json 
かな￹入力￺にゅうりょく￻ | [ニュー スティックニー￹配列￺はいれつ￻](layouts.html#new_stickney) | new_stickney.109.json | new_stickney.json

　ファイル￹名￺めい￻に「.109」がふくまれているものは、￹日本語￺にほんご￻キーボード￹用￺よう￻です。
￹配列￺はいれつ￻の￹内容￺ないよう￻はJSONでかかれています。
￹通常￺つうじょう￻のテキスト エディターをつかって、まったくあたらしい￹配列￺はいれつ￻を￹定義￺ていぎ￻してつかうこともできます。

　キーボードの￹配列￺はいれつ￻を￹変更￺へんこう￻するには、「layout」を￹選択￺せんたく￻して、￹設定￺せってい￻ファイル￹名￺めい￻をフルパス￹名￺めい￻で￹指定￺してい￻します。

<br>￹例￺れい￻ (インストール￹先￺さき￻が /usr のばあい) :

    /usr/share/ibus-replace-with-kanji/layouts/roomazi.109.json

<br>
![settings-layout](settings-layout.png)

## ローマ￹字￺じ￻の「ん」のつづりをえらぶ {#nn}

　ワープロでは、「nn」と￹入力￺にゅうりょく￻すると「ん」になる￹便法￺べんぽう￻がつかわれてきました。
ふたつめの「n」は、おしにくい〔'〕のかわりです。
「’」は、「はねる音を表わすnと次にくる母音字またはyとを切り離す必要がある場合には、nの次に’を入れる」というのが、もともとの[￹約束￺やくそく￻](http://www.mext.go.jp/b_menu/hakusho/nc/k19541209001/k19541209001.html)です。
この￹約束￺やくそく￻にしたがうと、「tennen」は「てんねん」になります。けれども、ワープロではこれを「てんえん」とする￹方法￺ほうほう￻がひろくつかわれています（￹参考￺さんこう￻: 『[JIS X 4063の￹廃止￺はいし￻](https://srad.jp/~yasuoka/journal/518878/)』)。

　「ひらがなIME」では、ワープロ￹方式￺ほうしき￻も￹公式￺こうしき￻な￹方式￺ほうしき￻も、どちらでもつかうことができます。￹初期￺しょき￻￹設定￺せってい￻はワープロ￹方式￺ほうしき￻です。つづりかたを￹変更￺へんこう￻するには、「nn-as-jis-x-4063」を￹選択￺せんたく￻して、TrueかFalseをえらびます。

￹設定￺せってい￻ | ￹内容￺ないよう￻
---|---
True | ワープロ￹式￺しき￻のつづりかたをつかいます。「nn」と￹入力￺にゅうりょく￻すると「ん」になります。
False | ￹正式￺せいしき￻なローマ￹字￺じ￻のつづりかたをつかいます。

![settings-nn](settings-nn.png)
