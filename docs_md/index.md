# ひらがなIMEの￹手￺て￻びき

## はじめに {: #introduction}

　「ひらがな￹IME￺アイエムイー￻」は、ひらがなの￹割合￺わりあい￻のおおい￹文章￺ぶんしょう￻を￹入力￺にゅうりょく￻しやすくした￹日本語￺にほんご￻インプットメソッドです。
インプットメソッドというのは、コンピューターに￹文字￺もじ￻を￹入力￺にゅうりょく￻するためのソフトウェアのことです。
　これまでの￹日本語￺にほんご￻インプットメソッドでは、むずかしい￹漢字￺かんじ￻の￹割合￺わりあい￻がおおい￹文章￺ぶんしょう￻をかいてしまいがちでした。
かきおわってから、￹自分￺じぶん￻でもよめないような￹漢字￺かんじ￻をつかってしまっていることもよくありました。
　「ひらがな￹IME￺アイエムイー￻」であれば、キーボードでうったとおりに、ひらがなを￹本文￺ほんぶん￻に￹挿入￺そうにゅう￻することができます。
しらずに、ひらがなが￹漢字￺かんじ￻に￹変換￺へんかん￻されていることはありません。
わざわざ<span class='key'>Enter</span>キーをおして￹入力￺にゅうりょく￻を￹確定￺かくてい￻する￹必要￺ひつよう￻もありません。
￹漢字￺かんじ￻をつかいたいときは、￹本文￺ほんぶん￻￹中￺ちゅう￻のひらがなをあとからいつでも￹漢字￺かんじ￻におきかえることができます。

<video controls autoplay muted playsinline>
<source src='screenshot.webm' type='video/webm'>
スクリーンショット
</video>

　「ひらがなIME」を「[ふりがなパッド](https://github.com/esrille/furiganapad)」といっしょにつかうと、￹総￺そう￻ルビの￹文章￺ぶんしょう￻をかんたんにかくことができます。
いまでは、だれもがかんたんに￹漢字￺かんじ￻をよめるわけではないことがわかってきました。
そのため￹総￺そう￻ルビのデジタル￹教科書￺きょうかしょ￻なども￹用意￺ようい￻されるようになっています。
　「ひらがなIME」は、FedoraやUbuntuなど、[IBus](https://github.com/ibus/ibus/wiki)に￹対応￺たいおう￻したオペレーティング システム（￹OS￺オーエス￻）で￹利用￺りよう￻できます。

## モードレス￹入力￺にゅうりょく￻￹方式￺ほうしき￻ {: #modeless}

　「ひらがなIME」のような￹入力￺にゅうりょく￻￹方式￺ほうしき￻は「モードレス￹入力￺にゅうりょく￻￹方式￺ほうしき￻」とよばれています。
￹従来￺じゅうらい￻のインプットメソッドにあった「よみの￹入力￺にゅうりょく￻モード」をなくしているためです。
　モードレス￹入力￺にゅうりょく￻￹方式￺ほうしき￻は、つぎのようなしくみでうごいています。
アプリがわのテキストカーソル￹前後￺ぜんご￻のテキストのことを「￹周辺￺しゅうへん￻テキスト」といいます。
いまのOSは、この￹周辺￺しゅうへん￻テキストをインプットメソッドからしらべられるようにしています。
「ひらがなIME」で￹漢字￺かんじ￻に￹変換￺へんかん￻するときは、アプリがわの￹周辺￺しゅうへん￻テキストを￹対応￺たいおう￻する￹漢字￺かんじ￻におきかえています。
　￹以前￺いぜん￻はこのような￹機能￺きのう￻がOSにありませんでした。
そのために、インプットメソッドがわで、よみを￹漢字￺かんじ￻に￹変換￺へんかん￻してから￹入力￺にゅうりょく￻するしかなかったのです。

<video controls autoplay muted playsinline>
<source src='undo.webm' type='video/webm'>
変換を元に戻す
</video>

　モードレス￹入力￺にゅうりょく￻￹方式￺ほうしき￻では、テキスト エディターやワープロの「￹元￺もと￻に￹戻￺もど￻す (￹Undo￺アンドゥ￻)」をつかって、￹変換￺へんかん￻した￹漢字￺かんじ￻をひらがなにもどすことができます。インプットメソッドをつかうために、おぼえないといけないキー￹操作￺そうさ￻はとてもすくなくなっています。

　モードレス￹入力￺にゅうりょく￻は、「[ふりがなパッド](https://github.com/esrille/furiganapad)」のようなテキスト エディターだけでなく、￹Firefox￺ファイアフォックス￻や￹LibreOffice￺リブレ オフィス￻などでもつかうことができます。
しかし、モードレス￹入力￺にゅうりょく￻に￹対応￺たいおう￻していないアプリもまだのこっています。
￹英語￺えいご￻であれば、￹特別￺とくべつ￻なインプットメソッドがなくても￹文字￺もじ￻を￹入力￺にゅうりょく￻することができます。
そのため￹英語￺えいご￻でつかわれることがおおいソフトでは、インプットメソッドのサポートが￹不十分￺ふじゅうぶん￻なことがあるのです。
そうしたソフトでは、「ひらがなIME」でも「よみの￹入力￺にゅうりょく￻モード」をつかって￹文字￺もじ￻を￹入力￺にゅうりょく￻します。

## かな￹漢字￺かんじ￻￹変換￺へんかん￻での￹大規模￺だいきぼ￻￹言語￺げんご￻モデルの￹利用￺りよう￻ {: #llm}

　「ひらがなIME」には、￹大規模￺だいきぼ￻￹言語￺げんご￻モデル(LLM)を￹利用￺りよう￻して、かな￹漢字￺かんじ￻￹変換￺へんかん￻をアシストする￹機能￺きのう￻があります。
この￹機能￺きのう￻を￹有効￺ゆうこう￻にすると、￹変換￺へんかん￻するとき、￹文脈￺ぶんみゃく￻にあった￹変換￺へんかん￻￹候補￺こうほ￻があらかじめ￹選択￺せんたく￻されているようになります。
　たとえば、「かいとう」という￹語￺ご￻を￹漢字￺かんじ￻に￹変換￺へんかん￻するときは、つぎのように￹選択￺せんたく￻されている￹候補￺こうほ￻がかわります。

- アンケートにかいとう<span class='key'>変換</span> → アンケートに<span style="background-color:#d1eaff">回答</span>
- ￹問題￺もんだい￻のかいとう<span class='key'>変換</span> → ￹問題￺もんだい￻の<span style="background-color:#d1eaff">解答</span>

　この￹機能￺きのう￻はおくりがなのある￹単語￺たんご￻を￹変換￺へんかん￻するときも￹有効￺ゆうこう￻です。

- ￹車￺くるま￻にの<span class='key'>変換</span>っ → ￹車￺くるま￻に<span style="background-color:#d1eaff">乗っ</span>
- ￹新聞￺しんぶん￻にの<span class='key'>変換</span>っ → ￹新聞￺しんぶん￻に<span style="background-color:#d1eaff">載っ</span>

<br>
**￹注意￺ちゅうい￻**: LLMを￹利用￺りよう￻するこの￹機能￺きのう￻は、LLMが￹学習￺がくしゅう￻している￹内容￺ないよう￻で￹候補￺こうほ￻の￹出現￺しゅつげん￻￹確率￺かくりつ￻を￹計算￺けいさん￻しています。
つかいたい￹候補￺こうほ￻がいつもえらばれるというわけではありません。
また、￹従来￺じゅうらい￻の￹方式￺ほうしき￻よりも￹計算￺けいさん￻に￹時間￺じかん￻がかかるので、デフォルトではオフになっています。
この￹機能￺きのう￻を￹有効￺ゆうこう￻にするには、￹追加￺ついか￻でインストールが￹必要￺ひつよう￻なパッケージがあります。
くわしくは、「[￹大規模￺だいきぼ￻￹言語￺げんご￻モデルを￹利用￺りよう￻するための￹追加￺ついか￻のインストール](install.html#llm)」をみてください。

<hr>
<br><small>Copyright 2017-2024 Esrille Inc.</small>

