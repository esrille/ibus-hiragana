# ￹設定￺せってい￻のかえかた

## 「ひらがなIMEの￹設定￺せってい￻」ウィンドウ {: #ibus-setup-hiragana}

　「ひらがなIME」の￹設定￺せってい￻は、「ひらがなIMEの￹設定￺せってい￻」ウィンドウでおこないます。
トップバーのキーボード メニューから[￹設定￺せってい￻]をえらぶと、「ひらがなIMEの￹設定￺せってい￻」ウィンドウがひらきます。

![キーボード メニュー](keyboard-menu.png)

![「ひらがなIMEの設定」ウィンドウ](ibus-setup-hiragana_1.png)

<br>　「ひらがなIMEの￹設定￺せってい￻」ウィンドウには、つぎの３つのタブがあります。

<nobr>タブのなまえ</nobr> | ￹説明￺せつめい￻
---|---
[キーボード](#layout) | ローマ￹字￺じ￻￹入力￺にゅうりょく￻とかな￹入力￺にゅうりょく￻のきりかえをおこないます。
[￹辞書￺じしょ￻](#dictionary) | ￹使用￺しよう￻する￹漢字￺かんじ￻￹辞書￺じしょ￻をえらびます。
[オプション](#option) | ￹追加￺ついか￻の￹設定￺せってい￻をします。

　￹設定￺せってい￻した￹内容￺ないよう￻は、[￹OK￺オッケー￻]ボタンか[￹適用￺てきよう￻]ボタンをおせば「ひらがなIME」にすぐ￹反映￺はんえい￻されます。

## キーボード タブ {: #layout}

　キーボード タブでは、￹日本語￺にほんご￻の￹入力￺にゅうりょく￻￹方法￺ほうほう￻を￹設定￺せってい￻します。

![「ひらがなIMEの設定」ウィンドウ](ibus-setup-hiragana_1.png)

　キーボードの￹打￺う￻ちかたを「￹入力￺にゅうりょく￻￹方法￺ほうほう￻」ドロップダウンリストからえらびます。つぎの３￹種類￺しゅるい￻からえらべます。

￹入力￺にゅうりょく￻￹方法￺ほうほう￻ | ￹説明￺せつめい￻
---|---
[ローマ￹字￺じ￻](roomazi.html#roomazi) | ローマ￹字￺じ￻で￹入力￺にゅうりょく￻します。
[かな (JIS￹配列￺はいれつ￻)](layouts.html#jis) | JISかな￹配列￺はいれつ￻をつかって￹入力￺にゅうりょく￻します。
[<nobr>かな (ニュースティックニー￹配列￺はいれつ￻)</nobr>](layouts.html#new_stickney) | ニュースティックニーかな￹配列￺はいれつ￻をつかって￹入力￺にゅうりょく￻します。

　￹日本語￺にほんご￻の￹文章￺ぶんしょう￻をキーボードで￹入力￺にゅうりょく￻するときは、かな￹入力￺にゅうりょく￻とローマ￹字￺じ￻￹入力￺にゅうりょく￻がよくつかわれています。
ローマ￹字￺じ￻￹入力￺にゅうりょく￻は￹小学校￺しょうがっこう￻３￹年生￺ねんせい￻から￹学校￺がっこう￻でおそわります。
かな￹入力￺にゅうりょく￻であれば、ローマ￹字￺じ￻がわからなくても、つかうことができます。

### 'nn'をかならず「ん」に￹変換￺へんかん￻する {: #nn}

　「ん」をいつも「nn」で￹入力￺にゅうりょく￻したいときは、『'nn'をかならず「ん」に￹変換￺へんかん￻する』をオンにします。
　ワープロでは、「nn」と￹入力￺にゅうりょく￻すると「ん」になる￹便法￺べんぽう￻がつかわれてきました。
ふたつめの「n」は、￹日本語￺にほんご￻キーボードではおしにくい「'」のかわりです。
ローマ￹字￺じ￻のつづりかたとしては、ただくしありません。
￹現在￺げんざい￻は、このワープロの￹方式￺ほうしき￻をさだめたJIS￹規格￺きかく￻は￹廃止￺はいし￻されています。

- ￹参考￺さんこう￻: 『[JIS X 4063の￹廃止￺はいし￻](https://srad.jp/~yasuoka/journal/518878/)』。

## ￹辞書￺じしょ￻タブ {: #dictionary}

　￹辞書￺じしょ￻タブでは、￹漢字￺かんじ￻￹変換￺へんかん￻につかう￹辞書￺じしょ￻を￹設定￺せってい￻します。
「ひらがなIME」は、おとな￹用￺よう￻の￹漢字￺かんじ￻￹辞書￺じしょ￻のほかに、￹小中高生￺しょうちゅうこうせい￻￹用￺よう￻の￹辞書￺じしょ￻を￹用意￺ようい￻しています。

![「ひらがなIMEの設定」ウィンドウ](ibus-setup-hiragana_2.png)

### ￹漢字￺かんじ￻￹辞書￺じしょ￻

　￹使用￺しよう￻する￹漢字￺かんじ￻￹辞書￺じしょ￻は、[￹漢字￺かんじ￻￹辞書￺じしょ￻]ドロップダウンリストをひらいてえらびます。
￹学年￺がくねん￻￹別￺べつ￻の￹辞書￺じしょ￻は、￹平成￺へいせい￻29￹年￺ねん￻の「[￹音訓￺おんくん￻の￹小￺しょう￻・￹中￺ちゅう￻・￹高等学校￺こうとうがっこう￻￹段階￺だんかい￻￹別￺べつ￻￹割￺わ￻り￹振￺ふ￻り￹表￺ひょう￻](http://www.mext.go.jp/a_menu/shotou/new-cs/1385768.htm)」にそって￹構成￺こうせい￻されています。
￹学年￺がくねん￻があがるごとに、￹学習￺がくしゅう￻する￹漢字￺かんじ￻の￹数￺かず￻とともに、￹辞書￺じしょ￻に￹登録￺とうろく￻されている￹熟語￺じゅくご￻の￹数￺かず￻もふえていきます。

￹漢字￺かんじ￻￹辞書￺じしょ￻ | ￹熟語￺じゅくご￻￹数￺すう￻
--|--:
￹小学校￺しょうがっこう￻１￹年生￺ねんせい￻ | 730
￹小学校￺しょうがっこう￻２￹年生￺ねんせい￻ | 3,210
￹小学校￺しょうがっこう￻３￹年生￺ねんせい￻ | 6,315
￹小学校￺しょうがっこう￻４￹年生￺ねんせい￻ | 9,554
￹小学校￺しょうがっこう￻５￹年生￺ねんせい￻ | 12,573
￹小学校￺しょうがっこう￻６￹年生￺ねんせい￻ | 14,796
￹中学生￺ちゅうがくせい￻ | 29,974
￹高校生￺こうこうせい￻ | 32,077
おとな | 34,594

(2024￹年￺ねん￻8￹月￺がつ￻￹時点￺じてん￻)

　￹辞書￺じしょ￻は、よみ￹手￺て￻の￹学年￺がくねん￻などにあわせてえらんでください。
￹中学生￺ちゅうがくせい￻￹以上￺いじょう￻￹用￺よう￻の￹辞書￺じしょ￻では、￹人名￺じんめい￻や￹地名￺ちめい￻については、「[￹常用￺じょうよう￻￹漢字￺かんじ￻￹表￺ひょう￻](https://www.bunka.go.jp/kokugo_nihongo/sisaku/joho/joho/kijun/naikaku/kanji/)」にのっていない￹漢字￺かんじ￻も￹使用￺しよう￻しています。

### ￹個人￺こじん￻￹用￺よう￻￹辞書￺じしょ￻￹名￺めい￻

　￹個人￺こじん￻￹用￺よう￻の￹辞書￺じしょ￻に￹登録￺とうろく￻しておけば、￹標準￺ひょうじゅん￻の￹漢字￺かんじ￻￹辞書￺じしょ￻にない￹単語￺たんご￻も￹変換￺へんかん￻できるようになります。
￹個人￺こじん￻￹用￺よう￻￹辞書￺じしょ￻は、￹複数￺ふくすう￻のファイルをつかいわけることができます。
[￹個人￺こじん￻￹用￺よう￻￹辞書￺じしょ￻￹名￺めい￻]テキストボックスには、￹利用￺りよう￻したい￹個人￺こじん￻￹用￺よう￻￹辞書￺じしょ￻のファイル￹名￺めい￻を￹指定￺してい￻します。
はじめは my.dic というなまえになっています。
￹個人￺こじん￻￹用￺よう￻の￹辞書￺じしょ￻ファイルは、ディレクトリ <code>~/.local/share/ibus-hiragana/</code> のなかに￹保存￺ほぞん￻されています。
　￹個人￺こじん￻￹用￺よう￻￹辞書￺じしょ￻ファイルは、[￹編集￺へんしゅう￻]ボタンをおすと￹編集￺へんしゅう￻できます。
ファイルのかきかたについては、このページの「[￹個人￺こじん￻￹用￺よう￻￹辞書￺じしょ￻ファイルのかきかた](#personal-dictionary)」で￹説明￺せつめい￻しています。

### おくりがなの「￹許容￺きょよう￻」をつかう

　[おくりがなの「￹許容￺きょよう￻」をつかう]スイッチをオンにすると、『[￹送￺おく￻り￹仮名￺かな￻の￹付￺つ￻け￹方￺かた￻](http://www.bunka.go.jp/kokugo_nihongo/sisaku/joho/joho/kijun/naikaku/okurikana/index.html)』で￹許容￺きょよう￻されている￹基本的￺きほんてき￻なおくりがなをつかえるようになります。
オフにしているばあいは、￹許容￺きょよう￻はつかわず、￹学校￺がっこう￻でならう￹本則￺ほんそく￻だけをつかいます。

<br>￹例￺れい￻) おくりがなの「￹許容￺きょよう￻」をつかうと、￹下￺した￻の￹表￺ひょう￻にしめしたような￹変換￺へんかん￻ができます。

￹本則￺ほんそく￻ | ￹許容￺きょよう￻
--|--
お<span class='key'>変換</span>とす → 落とす | おと<span class='key'>変換</span>す → 落す
おこな<span class='key'>変換</span>って → 行って | おこ<span class='key'>変換</span>なって → 行なって
とど<span class='key'>変換</span>けで<span class='key'>変換</span> → 届け出 | とどけで<span class='key'>変換</span> → 届出

　「￹行￺い￻って」と「￹行￺おこな￻って」は￹本則￺ほんそく￻のままではふりがながないと￹区別￺くべつ￻ができません。
ぎゃくに、￹漢字￺かんじ￻をよくしっているひとが「￹落￺おと￻す」をよみあやまることはありません。
￹和語￺わご￻（ほんらいの￹日本語￺にほんご￻）に￹漢字￺かんじ￻をあててかくのは、なかなかむずかしいことです。
この￹手￺て￻びきでは、￹和語￺わご￻はなるべくひらがなでかくようにしています。

### ￹入力￺にゅうりょく￻￹履歴￺りれき￻

　￹変換￺へんかん￻￹候補￺こうほ￻ウィンドウでは、よくつかう￹同音￺どうおん￻￹異義￺いぎ￻￹語￺ご￻やよみを￹短縮￺たんしゅく￻したことばが￹一覧￺いちらん￻のはじめのほうにきます。
これを￹初期￺しょき￻￹状態￺じょうたい￻にもどしたいときは、[クリア...]をクリックします。
そして、つぎのメッセージボックスが￹表示￺ひょうじ￻されたら、[OK]ボタンをおします。

![「ひらがなIMEの設定」ウィンドウ](ibus-setup-hiragana_4.png)

## オプション タブ {: #option}

　オプション タブでは、￹入力￺にゅうりょく￻を￹補助￺ほじょ￻する￹機能￺きのう￻の￹設定￺せってい￻ができます。

![「ひらがなIMEの設定」ウィンドウ](ibus-setup-hiragana_3.png)

### ￹算用数字￺さんようすうじ￻をいつも￹半角￺はんかく￻で￹入力￺にゅうりょく￻する {: #half-width-digits}

　オンにすると、かな￹入力￺にゅうりょく￻モードでも￹算用数字￺さんようすうじ￻を￹半角￺はんかく￻で￹入力￺にゅうりょく￻します。

￹設定￺せってい￻ | ￹例￺れい￻
--|--
オフ | １２、３４５。６７８
オン | 12,345.678

### ￹英数￺えいすう￻モードで、'^'を￹直前￺ちょくぜん￻の￹母音￺ぼいん￻￹字￺じ￻に￹結合￺けつごう￻する {: #combining-circumflex}

　￹日本語￺にほんご￻を￹訓令￺くんれい￻￹式￺しき￻ローマ￹字￺じ￻でかきあらわすときは、このスイッチをオンにすると￹便利￺べんり￻です。
　￹英数￺えいすう￻モードで<span class='key'>^</span>を￹入力￺にゅうりょく￻したときに、￹直前￺ちょくぜん￻の￹文字￺もじ￻が￹母音￺ぼいん￻￹字￺じ￻であれば、￹母音￺ぼいん￻にサーカムフレックスをつけます。

- ￹例￺れい￻: a<span class='key'>^</span> → â

　￹直前￺ちょくぜん￻の￹文字￺もじ￻がサーカムフレックスつきの￹母音￺ぼいん￻￹字￺じ￻のときに、<span class='key'>^</span>を￹入力￺にゅうりょく￻すると、￹直前￺ちょくぜん￻の￹文字￺もじ￻を￹母音￺ぼいん￻￹字￺じ￻と￹単独￺たんどく￻のサーカムフレックスにわけます。

- ￹例￺れい￻: â<span class='key'>^</span> → a^

### ￹英数￺えいすう￻モードで、'~'を￹直前￺ちょくぜん￻の￹母音￺ぼいん￻￹字￺じ￻に'¯'として￹結合￺けつごう￻する {: #combining-macron}

　￹日本語￺にほんご￻をヘボン￹式￺しき￻ローマ￹字￺じ￻でかきあらわすときは、このスイッチをオンにすると￹便利￺べんり￻です。
　￹英数￺えいすう￻モードで<span class='key'>~</span>を￹入力￺にゅうりょく￻したときに、￹直前￺ちょくぜん￻の￹文字￺もじ￻が￹母音￺ぼいん￻￹字￺じ￻であれば、￹母音￺ぼいん￻にマクロンをつけます。

- ￹例￺れい￻: a<span class='key'>~</span> → ā

　￹直前￺ちょくぜん￻の￹文字￺もじ￻がマクロンつきの￹母音￺ぼいん￻￹字￺じ￻のときに、<span class='key'>~</span>を￹入力￺にゅうりょく￻すると、￹直前￺ちょくぜん￻の￹文字￺もじ￻を￹母音￺ぼいん￻￹字￺じ￻と￹単独￺たんどく￻のチルダ(~)にわけます。

- ￹例￺れい￻: ā<span class='key'>~</span> → a~

### ￹変換￺へんかん￻￹候補￺こうほ￻の￹選択￺せんたく￻にLLMを￹利用￺りよう￻する {: #llm}

　オンにすると、￹文脈￺ぶんみゃく￻にあった￹変換￺へんかん￻￹候補￺こうほ￻があらかじめ￹選択￺せんたく￻されるようになります。
たとえば、「かいとう」を￹漢字￺かんじ￻に￹変換￺へんかん￻するときは、￹文脈￺ぶんみゃく￻に￹応￺おう￻じてつぎのように￹選択￺せんたく￻されている￹候補￺こうほ￻がかわります。

- アンケートにかいとう<span class='key'>変換</span> → アンケートに<span style="background-color:#d1eaff">￹回答￺かいとう￻</span>
- ￹問題￺もんだい￻のかいとう<span class='key'>変換</span> → ￹問題￺もんだい￻の<span style="background-color:#d1eaff">￹解答￺かいとう￻</span>

### LLMの￹計算￺けいさん￻にCUDAを￹利用￺りよう￻する {: #cuda}

　オンにすると、LLMをつかった￹変換￺へんかん￻￹候補￺こうほ￻の￹出現￺しゅつげん￻￹確率￺かくりつ￻の￹計算￺けいさん￻にCUDAを￹利用￺りよう￻します。
PCにNVIDIA￹社￺しゃ￻のGPUが￹搭載￺とうさい￻されていれば、￹変換￺へんかん￻キーをおしてから￹候補￺こうほ￻がでてくるまでの￹時間￺じかん￻を￹短縮￺たんしゅく￻できます。

<br>**￹注意￺ちゅうい￻**: CUDAを￹利用￺りよう￻するときは、おつかいのGPUに￹対応￺たいおう￻したNVIDIAのドライバーがインストールされている￹必要￺ひつよう￻があります。
￹最近￺さいきん￻は、UbuntuやFedoraの￹公式￺こうしき￻リポジトリから￹必要￺ひつよう￻なドライバーが￹提供￺ていきょう￻されるようになってきています。
￹問題￺もんだい￻なくインストールできていれば、ひらがなIMEの「[バージョン￹情報￺じょうほう￻ダイアログボックス](usage.html#about)」におつかいのGPUのモデル￹名￺めい￻が￹表示￺ひょうじ￻されています。

### LLMを￹利用￺りよう￻するために￹必要￺ひつよう￻なパッケージをインストールする {: #transformers}

　[インストール...]をおすと、LLMをつかうために￹必要￺ひつよう￻なパッケージをインストールできます。
くわしくは「[￹大規模￺だいきぼ￻￹言語￺げんご￻モデルを￹利用￺りよう￻するための￹追加￺ついか￻のインストール](install.html#llm)」をみてください。

## ￹個人￺こじん￻￹用￺よう￻￹辞書￺じしょ￻ファイルのかきかた {: #personal-dictionary}

　￹個人￺こじん￻￹用￺よう￻￹辞書￺じしょ￻ファイルは、つぎのような￹形式￺けいしき￻で￹単語￺たんご￻を￹保存￺ほぞん￻したテキストファイルです。

```
; セミコロン(;)ではじまる行はコメントです。
; 単語は、「よみ」, 半角スペース, そのあとにスラッシュ(/)で語をかこんで登録します。
きれい /綺麗/
; 先頭にマイナス(-)をつけると、システム辞書内の単語をとりけすことができます。
-きれい /奇麗/
; おなじよみの語は一行にまとめて登録できます。
かいざん /改竄/改ざん/
; おくりがなのある語のよみは、漢字におきかえる部分だけをかいて、水平バー（―）でとめます。
ささや― /囁k/
あお― /碧i/
```

### おくりがなのある￹語￺ご￻の￹登録￺とうろく￻のしかた {: #okurigana}

　「ひらがなIME」の￹辞書￺じしょ￻におくりがなのある￹語￺ご￻を￹登録￺とうろく￻するときのかきかたは、つぎのとおりです。
「よみ」の￹部分￺ぶぶん￻には、￹漢字￺かんじ￻におきかえる￹部分￺ぶぶん￻だけ、かなでかいて、水平バー（―）でとめます。
「￹語￺ご￻」の￹部分￺ぶぶん￻のかきかたは、￹以下￺いか￻のように￹品詞￺ひんし￻や￹活用形￺かつようけい￻によってかわってきます。

#### 五￹段￺だん￻￹活用￺かつよう￻の￹動詞￺どうし￻

　「￹語￺ご￻」の￹部分￺ぶぶん￻には、￹漢字￺かんじ￻，（もしあれば）￹活用語尾￺かつようごび￻のまえまでのおくりがな，￹活用語尾￺かつようごび￻の￹記号￺きごう￻（kgstnbmrwのどれかひとつ）をかきます。

￹行￺ぎょう￻ | よみ | ￹語￺ご￻
---|---|---
カ￹行￺ぎょう￻ | か― | 書k
ガ￹行￺ぎょう￻ | およ― | 泳g
サ￹行￺ぎょう￻ | ち― | 散らs
タ￹行￺ぎょう￻ | う― | 打t
ナ￹行￺ぎょう￻ | し― | 死n
バ￹行￺ぎょう￻ | あそ― | 遊b
マ￹行￺ぎょう￻ | あか― | 赤らm
ラ￹行￺ぎょう￻ | あず― | 預かr
ワア￹行￺ぎょう￻ | あ― | 会w

#### ￹上￺かみ￻￹一段￺いちだん￻￹活用￺かつよう￻/￹下￺しも￻￹一段￺いちだん￻￹活用￺かつよう￻の￹動詞￺どうし￻

　「￹語￺ご￻」の￹部分￺ぶぶん￻には、￹漢字￺かんじ￻，￹活用￺かつよう￻￹語尾￺ごび￻のさいしょの一￹文字￺もじ￻（イ￹段￺だん￻もしくはエ￹段￺だん￻の￹文字￺もじ￻）までのおくりがな，￹活用語尾￺かつようごび￻の￹記号￺きごう￻（1）をかきます。

￹活用￺かつよう￻ | よみ | ￹語￺ご￻
---|---|---
￹上￺かみ￻￹一段￺いちだん￻ | お― | 起き1
￹下￺しも￻￹一段￺いちだん￻ | み― | 見え1

#### ￹形容詞￺けいようし￻（イ￹形容詞￺けいようし￻）

　「￹語￺ご￻」の￹部分￺ぶぶん￻には、￹漢字￺かんじ￻，（もしあれば）￹活用語尾￺かつようごび￻のまえまでのおくりがな，￹活用語尾￺かつようごび￻の￹記号￺きごう￻（i）をかきます。

よみ | ￹語￺ご￻
---|---
あか― | 赤i
つめ― | 冷たi

#### ￹形容動詞￺けいようどうし￻（ナ￹形容詞￺けいようし￻）

　「￹語￺ご￻」の￹部分￺ぶぶん￻には、￹漢字￺かんじ￻と￹語幹￺ごかん￻￹部分￺ぶぶん￻のおくりがなをかきます。

よみ | ￹語￺ご￻
---|---
あき― | 明らか
しず― | 静か

#### そのほかの￹語￺ご￻のおくりがな

　「￹語￺ご￻」の￹部分￺ぶぶん￻には、￹漢字￺かんじ￻とおくりがなをそのままかきます。

よみ | ￹語￺ご￻
---|---
ひと― | 独り
すこ― | 少し

